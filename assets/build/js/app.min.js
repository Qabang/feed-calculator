"use strict";for(var i=100;i<=1e3;i+=50){var weight_select=document.getElementById("weight"),option=document.createElement("option");option.appendChild(document.createTextNode(i+"kg")),option.value=i,weight_select.appendChild(option)}function addRow(){var e=document.querySelectorAll(".form-feed-input"),t=document.querySelectorAll(".feed-row"),r=document.querySelector(".feeding-calculator-flex-wrap"),o=document.createElement("div");o.classList.add("feed-row","feed-row-"+(t.length+1)),r.appendChild(o);for(var l=0;l<8;l++){var a=e[l].cloneNode(!0);a.value="",o.appendChild(a)}}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function printResult(e,t,r,o,l,a){var n=6<arguments.length&&void 0!==arguments[6]&&arguments[6];document.querySelector(".result-"+e+"-mj").innerHTML=Math.round(t),document.querySelector(".result-"+e+"-smrp").innerHTML=Math.round(r),document.querySelector(".result-"+e+"-ca").innerHTML=o.toFixed(1),document.querySelector(".result-"+e+"-p").innerHTML=Math.round(100*(l+1e-5)/100),document.querySelector(".result-"+e+"-mg").innerHTML=Math.round(100*(a+Number.EPSILON)/100),n&&(document.querySelector(".result-"+e+"-selen").innerHTML=n.toFixed(1)),document.querySelectorAll('li[class*="-total"]').forEach(function(e){parseFloat(e.innerHTML)<0?e.classList.add("low-value"):5<parseFloat(e.innerHTML)?(e.classList.add("high-value"),e.classList.contains("result-total-selen")&&alert("The amount of selenium is probably toxic for your horse!")):-1<parseFloat(e.innerHTML)&&parseFloat(e.innerHTML)<1&&e.classList.add("good-value")})}function profile_submit(){var e=document.querySelector(".name").value,t=document.querySelector(".born").value,r=document.querySelector(".weight").value,o=(document.querySelector(".hull").value,document.querySelector(".type").value);if(""==t||4!=t.length)return alert("Error! Enter the year the horse was born with four digits"),void document.querySelector(".born").classList.add("error");document.querySelector(".born").classList.remove("error");var l=(new Date).getFullYear()-t;return l<0?(alert("Well time flies! But we can't use a year ahead of the current year, "+(new Date).getFullYear()),void document.querySelector(".born").classList.add("error")):(document.querySelector(".born").classList.remove("error"),65<l?(alert("The worlds oldest horse Billy died at the age of 62 years are you sure your horse is "+l+" years old?"),void document.querySelector(".born").classList.add("error")):(document.querySelector(".born").classList.remove("error"),"null"==r?(alert("You must fill in the weight field"),void document.querySelector(".weight").classList.add("error")):(document.querySelector(".weight").classList.remove("error"),""!=e&&(document.querySelector(".profile-name").innerHTML="Uträkning för "+capitalizeFirstLetter(e)),work_amount_calculation(r,base_amount_calculation(l,r,o)),{age:l,weight:r,type:o})))}function base_amount_calculation(e,t,r){var o;if(mj=.5*Math.pow(parseInt(t),.75),smrp=6*mj,ca=4*parseFloat(t/100),mg=1.5*parseFloat(t/100),phosphor=2.8*parseFloat(t/100),selenium=.2*parseFloat(t/100),!(e<3))return e<20?("type-normal"==r?(mj*=1.05,smrp*=1.05):"type-hard"==r&&(mj*=1.1,smrp*=1.1),o={mj:mj,smrp:smrp,ca:ca,p:phosphor,mg:mg,selen:selenium}):smrp+=6*mj,printResult("need",mj,smrp,ca,phosphor,mg,selenium),o;alert("Unfortunatly we don't calculate the need for growing horses at the moment")}function work_amount_calculation(e,t){var r=document.querySelector(".walk").value,o=document.querySelector(".trot").value;if(""!=r||""!=o){""==r?r=0:""==o&&(o=0),walk_mj=.002*e/10*r,walk_smrp=6*walk_mj,trot_mj=1.3/100*e/10*o,trot_smrp=6*trot_mj,mj=walk_mj+trot_mj,smrp=trot_smrp+walk_smrp;var l=mj/t.mj*100;return work_mg=l<30?(work_ca=e/100*6,work_p=e/100*3.6,e/100*1.9):30<=l&&l<50?(work_ca=e/100*7,work_p=e/100*4.2,e/100*2.3):(work_ca=e/100*8,work_p=e/100*5.8,e/100*3),ca=work_ca-t.ca,p=work_p-t.p,mg=work_mg-t.mg,printResult("work",mj,smrp,ca,p,mg),{mj:mj,smrp:smrp,ca:ca,p:p,mg:mg}}document.querySelector(".result-work").querySelectorAll("li").forEach(function(e){e.innerHTML=""})}function feed_input_collection(e){var t=document.querySelectorAll('input[class*="-'+e+'"]'),a=0;return t.forEach(function(e){for(var t=e.parentNode.children,r=0,o=0;o<t.length;o++){var l=t[o];l.classList.contains("input-amount")&&(r=l.value),l.classList.contains("input-solids")&&""!=l.value&&(r*=l.value/100)}a+=parseFloat(e.value*r)}),a}function feed_calculation(){var e=profile_submit(),t=base_amount_calculation(e.age,e.weight,e.type),r=work_amount_calculation(e.weight,t),o=feed_input_collection("mj"),l=feed_input_collection("smrp"),a=feed_input_collection("selen"),n=feed_input_collection("ca"),c=feed_input_collection("mg"),u=feed_input_collection("p");mj=calculate(t.mj,r.mj,o),smrp=calculate(t.smrp,r.smrp,l),ca=calculate(t.ca,r.ca,n),p=calculate(t.p,r.p,u),mg=calculate(t.mg,r.mg,c),selen=calculate(t.selen,0,a),printResult("feed",mj.given,smrp.given,n,u,c,a),printResult("total",mj.result,smrp.result,ca.result,p.result,mg.result,selen.result)}function calculate(e,t,r){return{given:parseFloat(r),result:parseFloat(r)-parseFloat(e+t)}}window.onload=function(){document.querySelector(".add-row").addEventListener("click",addRow)};