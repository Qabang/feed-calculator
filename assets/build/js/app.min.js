"use strict";for(var i=100;i<=800;i+=100){var weight_select=document.getElementById("weight"),option=document.createElement("option");option.appendChild(document.createTextNode(i+"kg")),option.value=i,weight_select.appendChild(option)}function addRow(){var e=document.querySelectorAll(".form-feed-input"),t=document.querySelectorAll(".feed-row"),r=document.querySelector(".feeding-calculator-flex-wrap"),o=document.createElement("div");o.classList.add("feed-row","feed-row-"+(t.length+1)),r.appendChild(o);for(var a=0;a<8;a++){var l=e[a].cloneNode(!0);l.value="",o.appendChild(l)}}function printResult(e,t,r,o,a,l){document.querySelector(".result-"+e+"-mj").innerHTML=Math.round(t),document.querySelector(".result-"+e+"-smrp").innerHTML=Math.round(r),document.querySelector(".result-"+e+"-ca").innerHTML=o.toFixed(1),document.querySelector(".result-"+e+"-p").innerHTML=Math.round(100*(a+1e-5)/100),document.querySelector(".result-"+e+"-mg").innerHTML=Math.round(100*(l+Number.EPSILON)/100),document.querySelectorAll('li[class*="-total"]').forEach(function(e){console.log(parseFloat(e.innerHTML)),parseFloat(e.innerHTML)<0?e.classList.add("low-value"):5<parseFloat(e.innerHTML)?e.classList.add("high-value"):-1<parseFloat(e.innerHTML)&&parseFloat(e.innerHTML)<1&&e.classList.add("good-value")})}function profile_submit(){document.querySelector(".name").value;var e=document.querySelector(".born").value,t=document.querySelector(".weight").value,r=(document.querySelector(".hull").value,document.querySelector(".type").value);if(console.log(e.length),""==e||4!=e.length)return alert("Error! Enter the year the horse was born with four digits"),void document.querySelector(".born").classList.add("error");document.querySelector(".born").classList.remove("error");var o=(new Date).getFullYear()-e;return o<0?(alert("Well time flies! But we can't use a year ahead of the current year, "+(new Date).getFullYear()),void document.querySelector(".born").classList.add("error")):(document.querySelector(".born").classList.remove("error"),65<o&&alert("The worlds oldest horse Billy died at the age of 62 years are you sure your horse is "+o+" years old?"),"null"==t?(alert("You must fill in the weight field"),void document.querySelector(".weight").classList.add("error")):(document.querySelector(".weight").classList.remove("error"),work_amount_calculation(t,base_amount_calculation(o,t,r)),{age:o,weight:t,type:r}))}function base_amount_calculation(e,t,r){var o;document.querySelector(".result-need");return mj=.5*Math.pow(parseInt(t),.75),smrp=6*mj,ca=4*parseFloat(t/100),mg=1.5*parseFloat(t/100),phosphor=2.8*parseFloat(t/100),e<3||(e<20?("type-normal"==r?(mj*=1.05,smrp*=1.05):"type-hard"==r&&(mj*=1.1,smrp*=1.1),o={mj:mj,smrp:smrp,ca:ca,p:phosphor,mg:mg}):smrp+=6*mj),printResult("need",mj,smrp,ca,phosphor,mg),o}function work_amount_calculation(e,t){document.querySelector(".result-work");var r=document.querySelector(".walk").value,o=document.querySelector(".trot").value;walk_mj=.002*e/10*r,walk_smrp=6*walk_mj,trot_mj=1.3/100*e/10*o,trot_smrp=6*trot_mj,mj=walk_mj+trot_mj,smrp=trot_smrp+walk_smrp;var a=mj/t.mj*100;return work_mg=a<30?(work_ca=e/100*6,work_p=e/100*3.6,e/100*1.9):30<=a&&a<50?(work_ca=e/100*7,work_p=e/100*4.2,e/100*2.3):(work_ca=e/100*8,work_p=e/100*5.8,e/100*3),ca=work_ca-t.ca,p=work_p-t.p,mg=work_mg-t.mg,printResult("work",mj,smrp,ca,p,mg),{mj:mj,smrp:smrp,ca:ca,p:p,mg:mg}}function feed_input_collection(e){var t=document.querySelectorAll('input[class*="-'+e+'"]'),l=0;return t.forEach(function(e){for(var t=e.parentNode.children,r=0,o=0;o<t.length;o++){var a=t[o];a.classList.contains("input-amount")&&(r=a.value),a.classList.contains("input-solids")&&""!=a.value&&(r*=a.value/100)}l+=parseFloat(e.value*r)}),l}function feed_calculation(){var e=profile_submit(),t=base_amount_calculation(e.age,e.weight,e.type),r=work_amount_calculation(e.weight,t),o=feed_input_collection("mj"),a=feed_input_collection("smrp"),l=(feed_input_collection("selen"),feed_input_collection("ca")),u=feed_input_collection("mg"),n=feed_input_collection("p");console.log(e),console.log(t),console.log(r),mj=calculate(t.mj,r.mj,o),smrp=calculate(t.smrp,r.smrp,a),ca=calculate(t.ca,r.ca,l),p=calculate(t.p,r.p,n),mg=calculate(t.mg,r.mg,u),printResult("feed",mj.given,smrp.given,l,n,u),printResult("total",mj.result,smrp.result,ca.result,p.result,mg.result)}function hay_calculation(){document.querySelector(".result-feed");var e,t,r=document.querySelector(".hay-amount").value,o=document.querySelector(".hay-solids").value,a=document.querySelector(".hay-mj").value,l=document.querySelector(".hay-smrp").value,u=document.querySelector(".hay-ca").value,n=document.querySelector(".hay-p").value,c=document.querySelector(".hay-mg").value,s=document.querySelector(".hay-se").value;return o=parseFloat(o/100),hay_solid_amount=parseFloat(r)*parseFloat(o),l=parseFloat(l),u=parseFloat(u),n=parseFloat(n),c=parseFloat(c),s=parseFloat(s),{mj:Math.round(hay_solid_amount*a),smrp:Math.round(l*r),ca:e=Math.round(u*hay_solid_amount),p:t=Math.round(n*hay_solid_amount),"ca/p":Math.round(e/t),mg:Math.round(c*hay_solid_amount),selen:Math.round(s*hay_solid_amount)}}function calculate(e,t,r){return{given:parseFloat(r),result:parseFloat(r)-parseFloat(e+t)}}window.onload=function(){document.querySelector(".add-row").addEventListener("click",addRow)};